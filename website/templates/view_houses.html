{% extends "base.html" %}
{% block title %}View Houses{% endblock %}
{% block content %}
  <body class="no-footer">
    <div class="viewpage-container">
      <h2>Available Houses</h2>
      {% if houses %}
        <div class="row">
          {% for house in houses %}
            <div class="col-md-6">
              <div class="house-item">
                <div class="house-details">
                  <h2 style="color: black;">House Name: <a href="{{ url_for('auth.house_details', house_id=house.id) }}">{{ house.house_name }}</a></h2>

                  <!-- First Column: Owner, Location -->
                  <div class="column">
                    {% if house.owner.photo %}
                      <img src="{{ url_for('static', filename='profile_pics/' + house.owner.photo) }}" alt="Owner Photo" class="owner-photo">
                    {% else %}
                      <p>Owner: {{ house.owner.first_name }} {{ house.owner.last_name }}</p>
                    {% endif %}
                    <p>Location: {% if house.location %}{{ house.location }}{% else %}Not specified{% endif %} || Street: {{ house.street }}</p>
                  </div>

                  <!-- Second Column: Photos -->
                  <div class="column">
                    <!-- Display multiple photos with lightbox -->
                    <div class="house-photos">
                      {% for photo in house.photos %}
                        <a href="{{ url_for('static', filename='images/' + photo.filename) }}" data-lightbox="house-{{ house.id }}">
                          <img src="{{ url_for('static', filename='images/' + photo.filename) }}" alt="House Photo" class="thumbnail">
                        </a>
                      {% endfor %}
                    </div>
                  </div>

                  <!-- Additional Details: Street and Description -->
                  <div class="additional-details">
                    <!-- You can add more details here if needed -->
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p class="no-houses">No available houses.</p>
      {% endif %}

      <a href="{{ url_for('auth.upload_house') }}" class="upload-link">Upload House</a>
    </div>

    <!-- Include lightbox script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
  </body>
{% endblock %}
